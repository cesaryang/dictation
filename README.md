# PTE 单词听写 Online

一个基于Web的英语单词听写练习工具，专门针对PTE考试中听力、口语、写作易错词汇设计。

## 主要功能

### 核心功能
- **智能听写练习**：使用Google US English TTS引擎进行单词发音
- **错误追踪**：自动记录拼写错误的单词，次日重点练习
- **学习进度管理**：连续7次正确拼写的单词自动标记为已掌握
- **数据同步**：通过GitHub Gist实现跨设备数据同步

### 学习机制
- 每天凌晨4点为学习周期分界线，错误单词计数清零
- 连续正确拼写7次的单词从学习列表中移除，进入已掌握列表
- **已掌握单词复习机制**：已掌握的单词每隔5天自动加入测试
  - 复习正确：继续保持已掌握状态，下次5天后再测试
  - 复习错误：重新加入常规学习列表，重置学习进度
- 支持手动添加新单词到练习列表
- 历史学习数据保留3天

## 使用方法

### 1. 初始配置

#### GitHub Token 获取
1. 登录GitHub，进入 Settings → Developer settings → Personal access tokens
2. 创建新的Personal Access Token，需要以下权限：
   - `gist` - 创建和修改gist

#### Gist ID 获取
1. 在GitHub上创建一个新的Gist（可以是空的）
2. 从Gist URL中获取ID，例如：`https://gist.github.com/username/YOUR_GIST_ID`
3. 复制其中的Gist ID部分

### 2. 配置应用

打开 `dictation.html` 文件：

1. **首次使用**：会自动显示GitHub配置面板
2. **输入配置信息**：
   - GitHub Token：输入获取的Personal Access Token（格式通常以 `ghp_` 开头）
   - Gist ID：输入创建的Gist ID
3. **保存配置**：点击"保存配置"按钮
4. **测试连接**：点击"测试连接"验证配置是否正确

### 3. 开始练习

1. **开始背词**：点击"开始背词"按钮
2. **听写练习**：
   - 听取单词发音
   - 在输入框中输入拼写
   - 按Enter键提交答案
   - 点击"重听"按钮重复播放
3. **查看结果**：
   - 正确答案显示绿色
   - 错误答案显示红色，并显示正确拼写
4. **练习统计**：实时显示今日练习统计和错误单词列表

### 4. 添加新单词

1. 点击"▶ 添加新词"展开添加面板
2. 输入要添加的单词
3. 点击"测试发音"预览发音效果
4. 点击"添加单词"保存到练习列表

## 数据同步

- **自动同步**：每次答题后自动将数据同步到GitHub Gist
- **数据内容**：
  - 单词列表 (words.txt)
  - 学习进度数据 (data.json)
  - 包含正确听写次数、已掌握单词、每日练习记录等
- **离线模式**：网络异常时使用本地缓存，恢复网络后自动同步

## 技术特性

- **纯前端应用**：无需服务器，直接在浏览器中运行
- **语音合成**：使用Web Speech API进行单词发音
- **本地存储**：使用localStorage进行本地数据缓存
- **数据加密**：GitHub Token采用Base64+字符替换进行混淆保护

## 更新日志

**Update (20250703)**
1. 连续正确拼写要求从4次调整为7次
2. 每天凌晨4点为学习周期分界线
3. 错误单词独立显示，便于复习
4. 更换为Google US English TTS引擎
5. 增加发音预加载功能，减少网络延迟
6. 新增GitHub Gist数据同步功能
7. 支持手动添加单词功能
8. 历史数据自动清理机制（保留3天）

**Update (20250830)**
1. 历史数据保留期限从15天调整为3天，减少存储空间占用
2. 新增已掌握单词定期复习机制：
   - 已掌握单词每隔5天自动加入测试队列
   - 复习正确则继续保持已掌握状态
   - 复习错误则重新加入常规学习列表